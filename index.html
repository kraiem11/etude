<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã‰tude - Test</title>
    <script src="https://sdk.minepi.com/pi-sdk.js" defer></script>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 50px; background: #f4f4f4; }
        .status { padding: 10px; margin: 20px; border-radius: 8px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        button { padding: 15px 30px; font-size: 18px; cursor: pointer; background: #673ab7; color: white; border: none; border-radius: 25px; }
    </style>
</head>
<body>

    <h1>ØªØ·Ø¨ÙŠÙ‚ Ã‰tude ğŸ“š</h1>
    <div id="status-box" class="status">Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Pi Network...</div>
    
    <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Pi</button>

    <script>
        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ù…Ù„ Ø§Ù„Ù…ÙƒØªØ¨Ø©
        window.onload = function() {
            const statusBox = document.getElementById('status-box');
            if (window.Pi) {
                statusBox.innerText = "âœ… Ù…ÙƒØªØ¨Ø© Pi Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø¹Ù…Ù„";
                statusBox.className = "status success";
                try {
                    window.Pi.init({ version: "2.0", sandbox: true });
                } catch(e) {
                    statusBox.innerText = "âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Pi: " + e.message;
                }
            } else {
                statusBox.innerText = "âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø© Pi. ØªØ£ÙƒØ¯ Ù…Ù† ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¯Ø§Ø®Ù„ Pi Browser ÙˆÙ„ÙŠØ³ Chrome.";
                statusBox.className = "status error";
            }
        };

        async function login() {
            if (!window.Pi) {
                alert("ÙŠØ±Ø¬Ù‰ ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ù† Ù…ØªØµÙØ­ Pi");
                return;
            }
            try {
                const auth = await window.Pi.authenticate(['username'], (payment) => {});
                alert("Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ: " + auth.user.username);
            } catch (err) {
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£: " + err.message);
            }
        }
    </script>
</body>
</html>
